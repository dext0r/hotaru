automation:
  - id: home_mode_set_vacation
    alias: 'Home Mode: Set Vacation'
    trigger:
      - platform: event
        event_type: yandex_intent
        event_data:
          text: –í–∫–ª—é—á–∏ —Ä–µ–∂–∏–º –æ—Ç–ø—É—Å–∫–∞
    action:
      - service: input_select.select_option
        entity_id: input_select.home_mode
        data:
          option: Vacation

      - service: script.yandex_station_tts
        data:
          target: >
            {{ trigger.event.data.get('entity_id', 'last') }}
          text: –î–æ–º –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω –≤ —Ä–µ–∂–∏–º –æ—Ç–ø—É—Å–∫, –±—É–¥—É —Å–∫—É—á–∞—Ç—å –ø–æ –≤–∞–º

  - id: home_mode_to_vacation
    alias: 'Home Mode: To Vacation'
    trigger:
      platform: state
      entity_id: input_select.home_mode
      to: Vacation
    action:
      - service: notify.dextor
        data:
          message: üå¥ –î–æ–º –ø–µ—Ä–µ–≤—ë–¥–µ–Ω –≤ —Ä–µ–∂–∏–º –æ—Ç–ø—É—Å–∫–∞

      - service: cover.open_cover
        entity_id:
          - cover.bedroom
          - cover.kitchen
          - cover.living_room

  - id: home_mode_from_vacation
    alias: 'Home Mode: From vacation'
    trigger:
      platform: state
      entity_id: input_select.home_mode
      from: Vacation
    action:
      - service: notify.dextor
        data:
          message: üòü –î–æ–º –≤–æ–∑–≤—Ä–∞—â—ë–Ω –∏–∑ —Ä–µ–∂–∏–º–∞ –æ—Ç–ø—É—Å–∫–∞

input_datetime:
  next_trip:
    name: 'Next Trip'
    has_date: true
    icon: mdi:plane-train
